=======================
Subversion repositories
=======================

Repository
------------
The subversion repository for the project is set up as follows:

* URL: svn://svn.code.sf.net/p/chapel/code
         branches/
           collaborations/      -- used for external collaborators
           release/             -- used to capture release branches
         tags/                  -- used to tag releases
         third-party-norelease/ -- third party code not intended for release
         trunk/                 -- our main development branch ($CHPL_HOME)

* Anyone can read the repository.

* To commit to the repository, you need a SourceForge account and
  permissions granted by a Chapel administrator.  If you are not a
  Cray employee, a contributor's agreement is required to obtain
  commit privileges.  Different versions of the form exist for
  students and government employees.  The forms can be found in
  $CHPL_HOME/doc/developer/contributorAgreements

* Most external collaborations of any scope will be encouraged to work
  in a project-specific branch in the branches/collaborations/ space.


Contributor Notes
-----------------

In general, contributors should work using the following guidelines,
which are designed to protect the broad Chapel team's ability to make
forward progress:

* Recall that commits to subversion are extremely difficult to remove
  from the source tree's history, so be very careful not to commit
  anything that you might regret later (e.g., sensitive code, code
  owned by anyone other than yourself).

* Apropos of the above, please avoid committing third-party source
  code to any part of the repository without clearing it with a member
  of the core Chapel team.

* Commit changes to your branch as often as you find worthwhile.

* Any non-test commits to code or documentation to trunk/ should go
  through a pre-commit review with someone on the core development
  team.  Adding new tests or future tests to trunk/test can generally
  be done without a review; just be sure that the tests work well
  within the testing system and that they are sorted into a reasonable
  location in the test hierarchy.

* Experienced developers may make minor fixes to code or documentation
  without review, but the changes should generally be quite minor and
  innocuous in scope.


SVN "cheat sheet" (with comparisons to git)
-------------------------------------------

* Get online help (more complete/detailed/verbose than this):
  - svn help [<command>]
  - Gives general help or help on a specific command

[Note that in most of the following commands, failing to give a
file/dir argument causes the command to default to the current working
directory ('.').  These commands can typically be executed from within
any SVN subdirectory.]

* Update to HEAD: (this is what you'll typically want to use)
  - svn update [<file/dir>]
  - Similar to: git pull origin master (or whatever branch you're on)   

* Update to a specific revision number:
  - svn update -r<revision number> [<file/dir>]
  - Similar to: git checkout <commit hash>

* Add a file/dir to the repo:
  - svn add <file/dir>
  - Similar to: git add <file/dir>

* Delete a file/dir: 
  - svn rm <file/dir>
  - Similar to: git rm [-r] <file/dir>

* Move a file/dir:
  - svn mv <origfile/origdir> <file/dir>
  Similar to: mv (git handles this automatically)

* Copy a file/dir:
  - svn cp <origfile/origdir> <file/dir>
  - Similar to: cp (git handles this automatically)

* Get the staus of files/directories:
  - svn status [-v] [<file/dir>]
  - Similar(ish) to: git status

* Diffing: (look at man pages for this)
  - svn diff [<file/dir>]
  - Similar to: git diff

* Reverting a file: 
 - svn revert <file>
 - Similar to: git checkout <file>

* Commiting a file/dir:
  - svn commit -m <message> [<file/dir>]
  - Similar to: git add <file/dir>
                git commit -m <message>
                git push origin master

* Merging: 
  - svn merge
  - Similar to: git merge

* Overwriting the commit message on an existing revision:
  - svn propset -r <rev#> --revprop svn:log -F <my_new_message_file>
