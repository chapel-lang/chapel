bug: do...while loop causes assertion error in copyPropagation
