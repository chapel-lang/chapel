AST dump for DefaultOpaque after pass cleanup.
Module use list: 

{
  (163707 'use' ChapelStandard)
  function _OpaqueIndexGetNext[163712]() : _unknown[43] "no doc"
  {
    unknown n[163716] uint[107]
    {
      (163733 call = n(163732 call(163722 call . _OpaqueIndexNext c"fetchAdd") 1(order =(163728 call . memoryOrder c"relaxed"))))
    }
    (163742 return(163740 call + n 1))
  }
  { scopeless type
    uint[107]
  }
  function _OpaqueIndexCreate[163749]() : _unknown[43]
  {
    unknown idx[163752] _OpaqueIndex
    (163766 call =(163759 call . idx c"node")(163763 call . here c"id"))
    (163776 call =(163770 call . idx c"i")(163775 call _OpaqueIndexGetNext))
    (163780 return idx)
  }
  function =[163790](ref arg a[163787] :
  _OpaqueIndex, arg b[163793] :
  _nilType) : _unknown[43] "assignop" "inline" "no return value for void"
  {
    (163801 call =(163797 call . a c"i") 0)
  }
  function ==[163813](arg a[163810] :
  _OpaqueIndex, arg b[163816] :
  _nilType) : _unknown[43] "inline"
  {
    (163826 return(163824 call ==(163820 call . a c"i") 0))
  }
  function ==[163837](arg a[163834] :
  _nilType, arg b[163840] :
  _OpaqueIndex) : _unknown[43] "inline"
  {
    (163850 return(163848 call ==(163844 call . b c"i") 0))
  }
  function !=[163861](arg a[163858] :
  _OpaqueIndex, arg b[163864] :
  _nilType) : _unknown[43] "inline"
  {
    (163874 return(163872 call !=(163868 call . a c"i") 0))
  }
  function !=[163885](arg a[163882] :
  _nilType, arg b[163888] :
  _OpaqueIndex) : _unknown[43] "inline"
  {
    (163898 return(163896 call !=(163892 call . b c"i") 0))
  }
  function _unknown[43].writeThis[163908](arg _mt[163913]:_MT[227], arg this[163910] :
  _OpaqueIndex, arg writer[163906]:_any[170](?)) : _unknown[43] "method" "no return value for void"
  {
    (163932 call <~> writer "{}")
  }
  function DefaultOpaqueDom[164502](?).linksDistribution[163967](arg _mt[164506]:_MT[227], arg this[164504]:DefaultOpaqueDom[164502](?)) param : _unknown[43] "method" "primary method"
  {
    (163970 return 0)
  }
  function DefaultOpaqueDom[164502](?).dsiLinksDistribution[163977](arg _mt[164510]:_MT[227], arg this[164508]:DefaultOpaqueDom[164502](?)) : _unknown[43] "method" "primary method" "method overrides"
  {
    (163980 return 0)
  }
  function DefaultOpaqueDom[164502](?).init[163992](arg _mt[164514]:_MT[227], arg this[164512]:DefaultOpaqueDom[164502](?), arg dist[163989] :
  (163988 'to unmanaged class from unknown' DefaultDist), param arg parSafe[163995] :
  bool[10]) : _unknown[43] "method" "primary method" "no return value for void"
  {
    (164003 call =(163999 call . this c"parSafe") parSafe)
    (164012 call =(164008 call . this c"dist") dist)
    (164025 call = adomain(164024 'new'(164023 'to unmanaged class from unknown'(164022 call DefaultAssociativeDom _OpaqueIndex dist(parSafe = parSafe)))))
  }
  function DefaultOpaqueDom[164502](?).deinit[164032](arg _mt[164518]:_MT[227], arg this[164516]:DefaultOpaqueDom[164502](?)) : _unknown[43] "destructor" "method" "primary method" "no return value for void"
  {
    (164036 call chpl__delete adomain)
  }
  function DefaultOpaqueDom[164502](?).dsiCreate[164044](arg _mt[164522]:_MT[227], arg this[164520]:DefaultOpaqueDom[164502](?)) : _unknown[43] "method" "primary method"
  {
    unknown i[164049](164048 call _OpaqueIndexCreate)
    (164059 call(164054 call . adomain c"dsiAdd") i)
    (164062 return i)
  }
  function DefaultOpaqueDom[164502](?).dsiMyDist[164068](arg _mt[164526]:_MT[227], arg this[164524]:DefaultOpaqueDom[164502](?)) : _unknown[43] "method" "primary method" "method overrides"
  {
    (164071 return dist)
  }
  function DefaultOpaqueDom[164502](?).dsiAdd[164082](arg _mt[164530]:_MT[227], arg this[164528]:DefaultOpaqueDom[164502](?), arg i[164079] :
  idxType) : _unknown[43] "method" "primary method"
  {
    (164091 return(164090 call(164085 call . adomain c"dsiAdd") i))
  }
  function DefaultOpaqueDom[164502](?).dsiGetIndices[164098](arg _mt[164534]:_MT[227], arg this[164532]:DefaultOpaqueDom[164502](?)) : _unknown[43] "method" "primary method"
  {
    (164101 return adomain)
  }
  function DefaultOpaqueDom[164502](?).dsiSetIndices[164113](arg _mt[164538]:_MT[227], arg this[164536]:DefaultOpaqueDom[164502](?), arg b[164110] :
  (164109 'to unmanaged class from unknown' DefaultAssociativeDom)) : _unknown[43] "method" "primary method" "no return value for void"
  {
    (164121 call(164116 call . adomain c"dsiSetIndices") b)
  }
  function DefaultOpaqueDom[164502](?).dsiAssignDomain[164132](arg _mt[164542]:_MT[227], arg this[164540]:DefaultOpaqueDom[164502](?), arg rhs[164129] :
  _domain, arg lhsPrivate[164135] :
  bool[10]) : _unknown[43] "method" "primary method" "no return value for void"
  {
    (164142 call chpl_assignDomainWithIndsIterSafeForRemoving this rhs)
  }
  function DefaultOpaqueDom[164502](?).these[164149](arg _mt[164546]:_MT[227], arg this[164544]:DefaultOpaqueDom[164502](?)) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164156] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164157] "expr temp" "temp"
      (164166 'move' _iterator[164157](164164 call _getIterator adomain))
      Defer
      {
        {
          (164182 call _freeIterator _iterator[164157])
        }
      }
      { scopeless type
        (164171 'move' _indexOfInterest[164156](164168 call iteratorIndex _iterator[164157]))
      }
      ForLoop
      {
        unknown i[164175] "index var" "insert auto destroy"
        (164177 'move' i[164175] _indexOfInterest[164156])
        (164154 yield i)
        label _continueLabel[164161]
        _indexOfInterest[164156]
        _iterator[164157]
      }
      label _breakLabel[164162]
    }
  }
  function DefaultOpaqueDom[164502](?).these[164198](arg _mt[164550]:_MT[227], arg this[164548]:DefaultOpaqueDom[164502](?), param arg tag[164195] :
  iterKind) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164222] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164223] "expr temp" "temp"
      (164232 'move' _iterator[164223](164230 call _getIterator(164218 call(164209 call . adomain c"these")(tag =(164213 call . iterKind c"leader")))))
      Defer
      {
        {
          (164249 call _freeIterator _iterator[164223])
        }
      }
      { scopeless type
        (164238 'move' _indexOfInterest[164222](164235 call iteratorIndex _iterator[164223]))
      }
      ForLoop
      {
        unknown block[164242] "index var" "insert auto destroy"
        (164244 'move' block[164242] _indexOfInterest[164222])
        (164220 yield block)
        label _continueLabel[164227]
        _indexOfInterest[164222]
        _iterator[164223]
      }
      label _breakLabel[164228]
    }
  }
  where {
    (164205 call == tag(164202 call . iterKind c"leader"))
  }
  function DefaultOpaqueDom[164502](?).these[164266](arg _mt[164554]:_MT[227], arg this[164552]:DefaultOpaqueDom[164502](?), param arg tag[164263] :
  iterKind, arg followThis[164268]:_any[170](?)) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164293] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164294] "expr temp" "temp"
      (164303 'move' _iterator[164294](164301 call _getIterator(164289 call(164279 call . adomain c"these")(tag =(164283 call . iterKind c"follower")) followThis)))
      Defer
      {
        {
          (164320 call _freeIterator _iterator[164294])
        }
      }
      { scopeless type
        (164309 'move' _indexOfInterest[164293](164306 call iteratorIndex _iterator[164294]))
      }
      ForLoop
      {
        unknown i[164313] "index var" "insert auto destroy"
        (164315 'move' i[164313] _indexOfInterest[164293])
        (164291 yield i)
        label _continueLabel[164298]
        _indexOfInterest[164293]
        _iterator[164294]
      }
      label _breakLabel[164299]
    }
  }
  where {
    (164275 call == tag(164272 call . iterKind c"follower"))
  }
  function DefaultOpaqueDom[164502](?).dsiIndsIterSafeForRemoving[164333](arg _mt[164558]:_MT[227], arg this[164556]:DefaultOpaqueDom[164502](?)) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164346] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164347] "expr temp" "temp"
      (164356 'move' _iterator[164347](164354 call _getIterator(164341 call(164337 call . adomain c"dsiIndsIterSafeForRemoving"))))
      Defer
      {
        {
          (164373 call _freeIterator _iterator[164347])
        }
      }
      { scopeless type
        (164362 'move' _indexOfInterest[164346](164359 call iteratorIndex _iterator[164347]))
      }
      ForLoop
      {
        unknown i[164366] "index var" "insert auto destroy"
        (164368 'move' i[164366] _indexOfInterest[164346])
        {
          (164343 yield i)
        }
        label _continueLabel[164351]
        _indexOfInterest[164346]
        _iterator[164347]
      }
      label _breakLabel[164352]
    }
  }
  function DefaultOpaqueDom[164502](?).dsiMember[164389](arg _mt[164562]:_MT[227], arg this[164560]:DefaultOpaqueDom[164502](?), arg ind[164386] :
  idxType) : _unknown[43] "method" "primary method"
  {
    (164398 return(164397 call(164392 call . adomain c"dsiMember") ind))
  }
  function DefaultOpaqueDom[164502](?).dsiNumIndices[164405](arg _mt[164566]:_MT[227], arg this[164564]:DefaultOpaqueDom[164502](?)) : _unknown[43] "method" "primary method" "no parens"
  {
    (164411 return(164408 call . adomain c"dsiNumIndices"))
  }
  function DefaultOpaqueDom[164502](?).dsiBuildArray[164420](arg _mt[164570]:_MT[227], arg this[164568]:DefaultOpaqueDom[164502](?), arg eltType[164418]:_any[170](?)) : _unknown[43] "method" "primary method"
  {
    unknown ia[164438](164437 'new'(164436 'to unmanaged class from unknown'(164435 call DefaultOpaqueArr(eltType = eltType)(idxType = idxType)(parSafe = parSafe)(dom =(164433 call _to_unmanaged this)))))
    (164443 return ia)
  }
  function DefaultOpaqueDom[164502](?).dsiHasSingleLocalSubdomain[164449](arg _mt[164574]:_MT[227], arg this[164572]:DefaultOpaqueDom[164502](?)) param : _unknown[43] "method" "primary method"
  {
    (164452 return 1)
  }
  function DefaultOpaqueDom[164502](?).dsiLocalSubdomain[164463](arg _mt[164578]:_MT[227], arg this[164576]:DefaultOpaqueDom[164502](?), arg loc[164460] :
  locale[26]) : _unknown[43] "method" "primary method"
  {
    if(164494 call _cond_test(164470 call ==(164467 call chpl_localeID_to_locale(164466 '_wide_get_locale' this)) loc))
    {
      (164479 return(164478 call _getDomain(164476 call _to_unmanaged this)))
    }
    {
      unknown a[164487](164485 call chpl__buildDomainRuntimeType defaultDist opaque)
      (164492 return a)
    }
  }
  type DefaultOpaqueDom[164502](?) unknown idxType[163942] "type variable" _OpaqueIndex unknown parSafe[163946] "param" bool[10] unknown dist[163951](163950 'to unmanaged class from unknown' DefaultDist) unknown adomain[163962](163961 'to unmanaged class from unknown'(163960 call DefaultAssociativeDom(idxType = _OpaqueIndex)(parSafe = parSafe))) BaseOpaqueDom
  function _unknown[43].dsiSerialWrite[164586](arg _mt[164591]:_MT[227], arg this[164588] :
  DefaultOpaqueDom, arg f[164584]:_any[170](?)) : _unknown[43] "method" "no return value for void"
  {
    (164599 call(164594 call . adomain c"dsiSerialWrite") f)
  }
  function _unknown[43].dsiSerialRead[164609](arg _mt[164614]:_MT[227], arg this[164611] :
  DefaultOpaqueDom, arg f[164607]:_any[170](?)) : _unknown[43] "method" "no return value for void"
  {
    (164622 call(164617 call . adomain c"dsiSerialRead") f)
  }
  function _unknown[43].dsiSerialWrite[164632](arg _mt[164637]:_MT[227], arg this[164634] :
  DefaultOpaqueArr, arg f[164630]:_any[170](?)) : _unknown[43] "method" "no return value for void"
  {
    (164645 call(164640 call . anarray c"dsiSerialWrite") f)
  }
  function _unknown[43].dsiSerialRead[164655](arg _mt[164660]:_MT[227], arg this[164657] :
  DefaultOpaqueArr, arg f[164653]:_any[170](?)) : _unknown[43] "method" "no return value for void"
  {
    (164668 call(164663 call . anarray c"dsiSerialRead") f)
  }
  function DefaultOpaqueArr[165079](?).deinit[164717](arg _mt[165083]:_MT[227], arg this[165081]:DefaultOpaqueArr[165079](?)) : _unknown[43] "destructor" "method" "primary method" "no return value for void"
  {
    (164721 call chpl__delete anarray)
  }
  function DefaultOpaqueArr[165079](?).dsiGetBaseDom[164729](arg _mt[165087]:_MT[227], arg this[165085]:DefaultOpaqueArr[165079](?)) : _unknown[43] "method" "primary method" "method overrides"
  {
    (164732 return dom)
  }
  function DefaultOpaqueArr[165079](?).dsiAccess[164743](arg _mt[165091]:_MT[227], arg this[165089]:DefaultOpaqueArr[165079](?), arg ind[164740] :
  idxType) ref : _unknown[43] "method" "primary method"
  {
    (164753 return(164752 call(164747 call . anarray c"dsiAccess") ind))
  }
  { scopeless type
    eltType
  }
  function DefaultOpaqueArr[165079](?).dsiTargetLocales[164761](arg _mt[165095]:_MT[227], arg this[165093]:DefaultOpaqueArr[165079](?)) : _unknown[43] "method" "primary method" "no return value for void"
  {
    (164781 call compilerError "targetLocales is unsupported by opaque domains")
  }
  function DefaultOpaqueArr[165079](?).dsiHasSingleLocalSubdomain[164788](arg _mt[165099]:_MT[227], arg this[165097]:DefaultOpaqueArr[165079](?)) param : _unknown[43] "method" "primary method"
  {
    (164791 return 1)
  }
  function DefaultOpaqueArr[165079](?).dsiLocalSubdomain[164802](arg _mt[165103]:_MT[227], arg this[165101]:DefaultOpaqueArr[165079](?), arg loc[164799] :
  locale[26]) : _unknown[43] "method" "primary method"
  {
    if(164830 call _cond_test(164809 call ==(164806 call chpl_localeID_to_locale(164805 '_wide_get_locale' this)) loc))
    {
      (164815 return(164814 call _getDomain dom))
    }
    {
      unknown a[164823](164821 call chpl__buildDomainRuntimeType defaultDist opaque)
      (164828 return a)
    }
  }
  function DefaultOpaqueArr[165079](?).these[164839](arg _mt[165107]:_MT[227], arg this[165105]:DefaultOpaqueArr[165079](?)) ref : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164846] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164847] "expr temp" "temp"
      (164856 'move' _iterator[164847](164854 call _getIterator anarray))
      Defer
      {
        {
          (164872 call _freeIterator _iterator[164847])
        }
      }
      { scopeless type
        (164861 'move' _indexOfInterest[164846](164858 call iteratorIndex _iterator[164847]))
      }
      ForLoop
      {
        unknown e[164865] "index var" "insert auto destroy"
        (164867 'move' e[164865] _indexOfInterest[164846])
        (164844 yield e)
        label _continueLabel[164851]
        _indexOfInterest[164846]
        _iterator[164847]
      }
      label _breakLabel[164852]
    }
  }
  function DefaultOpaqueArr[165079](?).these[164888](arg _mt[165111]:_MT[227], arg this[165109]:DefaultOpaqueArr[165079](?), param arg tag[164885] :
  iterKind) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164912] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164913] "expr temp" "temp"
      (164922 'move' _iterator[164913](164920 call _getIterator(164908 call(164899 call . dom c"these")(tag =(164903 call . iterKind c"leader")))))
      Defer
      {
        {
          (164939 call _freeIterator _iterator[164913])
        }
      }
      { scopeless type
        (164928 'move' _indexOfInterest[164912](164925 call iteratorIndex _iterator[164913]))
      }
      ForLoop
      {
        unknown block[164932] "index var" "insert auto destroy"
        (164934 'move' block[164932] _indexOfInterest[164912])
        (164910 yield block)
        label _continueLabel[164917]
        _indexOfInterest[164912]
        _iterator[164913]
      }
      label _breakLabel[164918]
    }
  }
  where {
    (164895 call == tag(164892 call . iterKind c"leader"))
  }
  function DefaultOpaqueArr[165079](?).these[164956](arg _mt[165115]:_MT[227], arg this[165113]:DefaultOpaqueArr[165079](?), param arg tag[164953] :
  iterKind, arg followThis[164958]:_any[170](?)) ref : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[164986] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[164987] "expr temp" "temp"
      (164996 'move' _iterator[164987](164994 call _getIterator(164979 call(164969 call . dom c"these")(tag =(164973 call . iterKind c"follower")) followThis)))
      Defer
      {
        {
          (165013 call _freeIterator _iterator[164987])
        }
      }
      { scopeless type
        (165002 'move' _indexOfInterest[164986](164999 call iteratorIndex _iterator[164987]))
      }
      ForLoop
      {
        unknown i[165006] "index var" "insert auto destroy"
        (165008 'move' i[165006] _indexOfInterest[164986])
        (164984 yield(164983 call dsiAccess i))
        label _continueLabel[164991]
        _indexOfInterest[164986]
        _iterator[164987]
      }
      label _breakLabel[164992]
    }
  }
  where {
    (164965 call == tag(164962 call . iterKind c"follower"))
  }
  function DefaultOpaqueArr[165079](?).dsiSorted[165028](arg _mt[165119]:_MT[227], arg this[165117]:DefaultOpaqueArr[165079](?), arg comparator[165026]:_any[170](?)) : _unknown[43] "iterator fn" "method" "primary method" "no return value for void"
  {
    {
      unknown _indexOfInterest[165041] "an _indexOfInterest or chpl__followIdx variable" "temp"
      unknown _iterator[165042] "expr temp" "temp"
      (165051 'move' _iterator[165042](165049 call _getIterator(165037 call(165032 call . anarray c"dsiSorted") comparator)))
      Defer
      {
        {
          (165068 call _freeIterator _iterator[165042])
        }
      }
      { scopeless type
        (165057 'move' _indexOfInterest[165041](165054 call iteratorIndex _iterator[165042]))
      }
      ForLoop
      {
        unknown e[165061] "index var" "insert auto destroy"
        (165063 'move' e[165061] _indexOfInterest[165041])
        (165039 yield e)
        label _continueLabel[165046]
        _indexOfInterest[165041]
        _iterator[165042]
      }
      label _breakLabel[165047]
    }
  }
  type DefaultOpaqueArr[165079](?) unknown idxType[164676] "type variable" unknown parSafe[164680] "param" bool[10] unknown dom[164691](164690 'to unmanaged class from unknown'(164689 call DefaultOpaqueDom(idxType = idxType)(parSafe = parSafe))) unknown anarray[164712](164711 'new'(164710 'to unmanaged class from unknown'(164709 call DefaultAssociativeArr(eltType = eltType)(idxType = idxType)(parSafeDom = parSafe)(dom =(164705 call . dom c"adomain"))))) AbsBaseArr
  function _unknown[43].dsiRemove[165129](arg _mt[165134]:_MT[227], arg this[165131] :
  DefaultOpaqueDom, arg idx[165126] :
  idxType) : _unknown[43] "method"
  {
    (165143 return(165142 call(165137 call . adomain c"dsiRemove") idx))
  }
}