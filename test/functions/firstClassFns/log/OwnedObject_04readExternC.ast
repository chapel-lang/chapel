AST dump for OwnedObject after pass readExternC.
Module use list: 

{
  (38107 'use' ChapelStandard)
  type _owned[39039](?) unknown chpl_t[38111] "no doc" "type variable" unknown chpl_p[38118] "no doc" "owned"(38117 'to nilable class' chpl_t) function _owned[39039](?).chpl_forwarding_expr1[38124](arg _mt[39043]:_MT[227], arg this[39041]:_owned[39039](?)) : _unknown[43] "compiler generated" "inline" "maybe ref" "method" "primary method" "reference to const when const this"
  {
    (38126 return(38123 call borrow))
  } function _owned[39039](?).init[38134](arg _mt[39047]:_MT[227], arg this[39045]:_owned[39039](?), arg chpl_t[38132]:_any[170](?)) : _unknown[43] "leaves this nil" "method" "primary method"
  {
    if(38162 call _cond_test(38140 call !(38139 call isClass chpl_t)))
    {
      { scopeless
        (38160 call compilerError "owned only works with classes")
      }
    }
    (38178 call =(38171 call . this c"chpl_t")(38177 call _to_borrowed chpl_t))
    (38188 call =(38184 call . this c"chpl_p") nil[38])
  } function _owned[39039](?).init[38199](arg _mt[39051]:_MT[227], arg this[39049]:_owned[39039](?), arg p[38196] :
  borrowed[200](?)) : _unknown[43] "method" "primary method" "no doc"
  {
    (38219 call compilerError "cannot initialize owned from a borrow")
    (38233 call(38225 call . this c"init")(38231 call _to_unmanaged p))
  } function _owned[39039](?).init[38243](arg _mt[39055]:_MT[227], arg this[39053]:_owned[39039](?), arg p[38240] :
  unmanaged[209](?)) : _unknown[43] "method" "primary method"
  {
    (38254 call =(38246 call . this c"chpl_t")(38253 call _to_borrowed(38251 'typeof' p)))
    (38266 call =(38259 call . this c"chpl_p")(38265 call _to_borrowed p))
  } function _owned[39039](?).init[38278](arg _mt[39059]:_MT[227], arg this[39057]:_owned[39039](?), arg p[38275] :
  unknown T[38273]) : _unknown[43] "method" "primary method"
  {
    (38309 call compilerError "owned only works with classes")
    (38317 call =(38313 call . this c"chpl_t") T)
    (38325 call =(38321 call . this c"chpl_p") p)
  }
  where {
    (38304 call &&(38295 call &&(38285 call ==(38283 call isClass T) 0)(38293 call ==(38291 call isSubtype T _owned) 0))(38302 call ==(38300 call isIterator p) 0))
  } function _owned[39039](?).init=[38337](arg _mt[39063]:_MT[227], arg this[39061]:_owned[39039](?), ref arg src[38334] :
  _owned) : _unknown[43] "method" "primary method"
  {
    if(38377 call _cond_test(38353 call &&(38348 call &&(38343 call isNonNilableClass(38341 'typeof' this))(38347 call isNilableClass src))(38351 call ! chpl_legacyClasses)))
    {
      { scopeless
        (38375 call compilerError "cannot create a non-nilable owned variable from a nilable class instance")
      }
    }
    if(38460 call _cond_test(38396 call ==(38394 call isCoercible(38385 call . src c"chpl_t")(38391 call .(38390 'typeof' this) c"chpl_t")) 0))
    {
      { scopeless
        (38458 call compilerError "cannot coerce '"(38419 call _cast string[24](38417 'typeof' src)) "' to '"(38440 call _cast string[24](38438 'typeof' this)) "' in initialization")
      }
    }
    (38474 call =(38466 call . this c"chpl_t")(38471 call .(38470 'typeof' this) c"chpl_t"))
    (38487 call =(38478 call . this c"chpl_p")(38486 call(38482 call . src c"release")))
    (38495 call(38491 call . this c"complete"))
  } function _owned[39039](?).init=[38505](arg _mt[39067]:_MT[227], arg this[39065]:_owned[39039](?), arg src[38502] :
  _shared) : _unknown[43] "method" "primary method"
  {
    (38525 call compilerError "cannot create an owned variable from a shared class instance")
    (38533 call =(38529 call . this c"chpl_t") int[13])
  } function _owned[39039](?).init=[38544](arg _mt[39071]:_MT[227], arg this[39069]:_owned[39039](?), arg src[38541] :
  borrowed[200](?)) : _unknown[43] "method" "primary method"
  {
    (38566 call compilerError "cannot create an owned variable from a borrowed class instance")
    (38574 call =(38570 call . this c"chpl_t") int[13])
  } function _owned[39039](?).init=[38585](arg _mt[39075]:_MT[227], arg this[39073]:_owned[39039](?), arg src[38582] :
  unmanaged[209](?)) : _unknown[43] "method" "primary method"
  {
    (38605 call compilerError "cannot create an owned variable from an unmanaged class instance")
    (38613 call =(38609 call . this c"chpl_t") int[13])
  } function _owned[39039](?).init=[38624](arg _mt[39079]:_MT[227], arg this[39077]:_owned[39039](?), arg src[38621] :
  _nilType) : _unknown[43] "method" "primary method" "no doc"
  {
    (38636 call(38627 call . this c"init")(38632 call .(38631 'typeof' this) c"chpl_t"))
    if(38669 call _cond_test(38646 call &&(38642 call isNonNilableClass chpl_t)(38644 call ! chpl_legacyClasses)))
    {
      (38666 call compilerError "Assigning non-nilable owned to nil")
    }
  } function _owned[39039](?).init[38681](arg _mt[39083]:_MT[227], arg this[39081]:_owned[39039](?), ref arg src[38678] :
  _owned) : _unknown[43] "method" "primary method" "no doc"
  {
    (38691 call =(38684 call . this c"chpl_t")(38688 call . src c"chpl_t"))
    (38705 call =(38696 call . this c"chpl_p")(38704 call(38700 call . src c"release")))
  } function _owned[39039](?).deinit[38712](arg _mt[39087]:_MT[227], arg this[39085]:_owned[39039](?)) : _unknown[43] "destructor" "method" "primary method"
  {
    if(38736 call _cond_test(38717 call isClass chpl_p))
    {
      if(38730 call _cond_test(38720 call != chpl_p nil[38]))
      {
        { scopeless
          (38727 call chpl__delete(38725 call _to_unmanaged chpl_p))
        }
      }
    }
  } function _owned[39039](?).clear[38745](arg _mt[39091]:_MT[227], ref arg this[39089]:_owned[39039](?)) : _unknown[43] "leaves this nil" "method" "primary method"
  {
    if(38765 call _cond_test(38749 call != chpl_p nil[38]))
    {
      (38756 call chpl__delete(38754 call _to_unmanaged chpl_p))
      (38762 call = chpl_p nil[38])
    }
  } function _owned[39039](?).retain[38778](arg _mt[39095]:_MT[227], ref arg this[39093]:_owned[39039](?), arg newPtr[38775] :
  unmanaged[209](?)) : _unknown[43] "method" "primary method"
  {
    if(38878 call _cond_test(38786 call !(38785 call isCoercible(38782 'typeof' newPtr) chpl_t)))
    {
      { scopeless
        (38876 call compilerError(38873 call +(38855 call +(38846 call +(38828 call +(38810 call + "cannot retain '"(38808 call _cast string[24](38806 'typeof' newPtr))) "' ") "(expected '")(38853 call _cast string[24](38851 call _to_unmanaged chpl_t))) "')"))
      }
    }
    unknown oldPtr[38885] chpl_p
    (38890 call = chpl_p newPtr)
    if(38902 call _cond_test oldPtr)
    {
      { scopeless
        (38899 call chpl__delete(38897 call _to_unmanaged oldPtr))
      }
    }
  } function _owned[39039](?).release[38911](arg _mt[39099]:_MT[227], ref arg this[39097]:_owned[39039](?)) : _unknown[43] "leaves this nil" "nil from this" "method" "primary method"
  {
    unknown oldPtr[38914] chpl_p
    (38920 call = chpl_p nil[38])
    if(38961 call _cond_test(38928 call ==(38926 call _to_nilable chpl_t) chpl_t))
    {
      (38934 return(38933 call _to_unmanaged oldPtr))
    }
    {
      { scopeless
        if(38957 call _cond_test chpl_legacyClasses)
        {
          (38945 return(38944 call _to_unmanaged(38942 call _to_nonnil oldPtr)))
        }
        {
          (38954 return(38953 call _to_unmanaged(38950 call postfix! oldPtr)))
        }
      }
    }
  } function _owned[39039](?).borrow[38970](arg _mt[39103]:_MT[227], arg this[39101]:_owned[39039](?)) : _unknown[43] "nil from this" "method" "primary method"
  {
    if(39001 call _cond_test(38977 call ==(38975 call _to_nilable chpl_t) chpl_t))
    {
      (38980 return chpl_p)
    }
    {
      { scopeless
        if(38997 call _cond_test chpl_legacyClasses)
        {
          (38988 return(38987 call _to_nonnil chpl_p))
        }
        {
          (38994 return(38992 call postfix! chpl_p))
        }
      }
    }
  } function _owned[39039](?).borrow[39011](arg _mt[39107]:_MT[227], arg this[39105]:_owned[39039](?)) type : _unknown[43] "method" "primary method"
  {
    if(39031 call _cond_test(39018 call ==(39016 call _to_nilable chpl_t) chpl_t))
    {
      (39021 return chpl_t)
    }
    {
      (39028 return(39027 call _to_nonnil chpl_t))
    }
  } forwarding ( )
  function =[39116](ref arg lhs[39113] :
  _owned, ref arg rhs[39119] :
  _owned) : _unknown[43] "assignop"
  {
    (39139 'use' HaltWrappers 'only' )
    if(39160 call _cond_test(39156 call &&(39147 call ==(39143 call . lhs c"chpl_p") nil[38])(39154 call ==(39150 call . rhs c"chpl_p") nil[38])))
    {
      { scopeless
        (39158 return)
      }
    }
    if(39238 call _cond_test chpl_checkNilDereferences)
    {
      if(39233 call _cond_test(39177 call ==(39172 call _to_nonnil(39168 call . lhs c"chpl_t"))(39174 call . lhs c"chpl_t")))
      {
        if(39228 call _cond_test(39190 call ==(39185 call _to_nilable(39181 call . rhs c"chpl_t"))(39187 call . rhs c"chpl_t")))
        {
          if(39223 call _cond_test(39197 call ==(39193 call . rhs c"chpl_p") nil[38]))
          {
            (39220 call(39200 call . HaltWrappers c"nilCheckHalt") "argument to owned = is nil")
          }
        }
      }
    }
    (39257 call(39245 call . lhs c"retain")(39254 call postfix!(39253 call(39249 call . rhs c"release"))))
  }
  where {
    (39135 call || chpl_legacyClasses(39133 call !(39131 call &&(39126 call isNonNilableClass lhs)(39130 call isNilableClass rhs))))
  }
  function =[39268](ref arg lhs[39265] :
  _owned, arg rhs[39271] :
  _nilType) : _unknown[43] "assignop" "no doc"
  {
    (39290 call(39286 call . lhs c"clear"))
  }
  where {
    (39281 call || chpl_legacyClasses(39279 call !(39278 call isNonNilableClass lhs)))
  }
  function <=>[39306](ref arg lhs[39303] :
  (39302 call _owned unknown t[39299]), ref arg rhs[39312] :
  (39311 call _owned t)) : _unknown[43]
  {
    (39323 call <=>(39316 call . lhs c"chpl_p")(39320 call . rhs c"chpl_p"))
  }
  function chpl__initCopy[39335](ref arg src[39332] :
  _owned) : _unknown[43] "init copy fn" "no doc"
  {
    unknown ret[39342](39341 'new'(39340 call _owned src))
    (39347 return ret)
  }
  function chpl__autoCopy[39357](ref arg src[39354] :
  _owned) : _unknown[43] "auto copy fn" "no doc"
  {
    unknown ret[39364](39363 'new'(39362 call _owned src))
    (39369 return ret)
  }
  function chpl__autoDestroy[39379](ref arg x[39376] :
  _owned) : _unknown[43] "auto destroy fn" "no doc"
  {
    (39402 'call destructor'(39401 'deref' x))
  }
  function _unknown[43].readWriteThis[39412](arg _mt[39417]:_MT[227], arg this[39414] :
  _owned, arg f[39410]:_any[170](?)) : _unknown[43] "method" "no doc"
  {
    (39424 call <~> f(39421 call . this c"chpl_p"))
  }
  function _cast[39439](arg t[39436] :
  (39434 call _owned(39433 'to nilable class from type' class[221](?))), in arg x[39444] :
  (39442 call _owned class[221](?))) : _unknown[43] "inline" "no doc"
  {
    unknown castPtr[39477](39475 call _cast(39474 call _to_nilable(39472 call _to_unmanaged(39468 call . t c"chpl_t")))(39462 call . x c"chpl_p"))
    (39486 call =(39482 call . x c"chpl_p") nil[38])
    (39494 return(39493 'new'(39492 call _owned castPtr)))
  }
  where {
    (39460 call isSubtype(39449 call . x c"chpl_t")(39459 call _to_nonnil(39455 call . t c"chpl_t")))
  }
  function _cast[39508](arg t[39505] :
  (39503 call _owned(39502 'to nilable class from type' class[221](?))), in arg x[39514] :
  (39512 call _owned(39511 'to nilable class from type' class[221](?)))) : _unknown[43] "inline" "no doc"
  {
    unknown castPtr[39544](39542 call _cast(39541 call _to_nilable(39539 call _to_unmanaged(39535 call . t c"chpl_t")))(39529 call . x c"chpl_p"))
    (39553 call =(39549 call . x c"chpl_p") nil[38])
    (39561 return(39560 'new'(39559 call _owned castPtr)))
  }
  where {
    (39527 call isSubtype(39519 call . x c"chpl_t")(39524 call . t c"chpl_t"))
  }
  function _cast[39574](arg t[39571] :
  (39569 call _owned class[221](?)), in arg x[39579] :
  (39577 call _owned class[221](?))) : _unknown[43] "inline" "no doc"
  {
    unknown castPtr[39609](39607 call _cast(39606 call _to_nilable(39604 call _to_unmanaged(39600 call . t c"chpl_t")))(39594 call . x c"chpl_p"))
    (39618 call =(39614 call . x c"chpl_p") nil[38])
    (39628 return(39627 'new'(39626 call _owned(39623 call postfix! castPtr))))
  }
  where {
    (39592 call isSubtype(39584 call . x c"chpl_t")(39589 call . t c"chpl_t"))
  }
  function _cast[39641](arg t[39638] :
  (39636 call _owned class[221](?)), in arg x[39647] :
  (39645 call _owned(39644 'to nilable class from type' class[221](?)))) : _unknown[43] throws "inline" "no doc"
  {
    unknown castPtr[39680](39678 call _cast(39677 call _to_nilable(39675 call _to_unmanaged(39671 call . t c"chpl_t")))(39665 call . x c"chpl_p"))
    if(39697 call _cond_test(39686 call == castPtr nil[38]))
    {
      (39694 'throw'(39693 'new'(39691 call _owned(39690 call NilClassError))))
    }
    (39706 call =(39702 call . x c"chpl_p") nil[38])
    (39716 return(39715 'new'(39714 call _owned(39711 call postfix! castPtr))))
  }
  where {
    (39663 call isSubtype(39657 call _to_nonnil(39653 call . x c"chpl_t"))(39660 call . t c"chpl_t"))
  }
  function _cast[39729](arg t[39726] :
  (39724 call _owned class[221](?)), ref arg x[39735] :
  (39733 call _owned(39732 'to nilable class from type' class[221](?)))) : _unknown[43] throws "inline"
  {
    if(39768 call _cond_test(39757 call ==(39753 call . x c"chpl_p") nil[38]))
    {
      (39765 'throw'(39764 'new'(39762 call _owned(39761 call NilClassError))))
    }
    unknown castPtr[39790](39789 'try-expr'(39787 call _cast(39786 call _to_nonnil(39784 call _to_unmanaged(39780 call . t c"chpl_t")))(39774 call . x c"chpl_p")))
    (39798 call =(39794 call . x c"chpl_p") nil[38])
    (39806 return(39805 'new'(39804 call _owned castPtr)))
  }
  where {
    (39751 call isProperSubtype(39740 call . t c"chpl_t")(39750 call _to_nonnil(39746 call . x c"chpl_t")))
  }
  function _cast[39819](arg t[39816] :
  (39814 call _owned class[221](?)), ref arg x[39824] :
  (39822 call _owned class[221](?))) : _unknown[43] throws "inline"
  {
    unknown castPtr[39855](39854 'try-expr'(39852 call _cast(39851 call _to_nonnil(39849 call _to_unmanaged(39845 call . t c"chpl_t")))(39839 call . x c"chpl_p")))
    (39864 call =(39860 call . x c"chpl_p") nil[38])
    (39872 return(39871 'new'(39870 call _owned castPtr)))
  }
  where {
    (39837 call isProperSubtype(39829 call . t c"chpl_t")(39834 call . x c"chpl_t"))
  }
  function _cast[39886](arg t[39883] :
  (39881 call _owned(39880 'to nilable class from type' class[221](?))), ref arg x[39892] :
  (39890 call _owned(39889 'to nilable class from type' class[221](?)))) : _unknown[43] "inline"
  {
    unknown castPtr[39922](39920 call _cast(39919 call _to_nilable(39917 call _to_unmanaged(39913 call . t c"chpl_t")))(39907 call . x c"chpl_p"))
    if(39939 call _cond_test(39928 call != castPtr nil[38]))
    {
      (39935 call =(39931 call . x c"chpl_p") nil[38])
    }
    (39948 return(39947 'new'(39946 call _owned castPtr)))
  }
  where {
    (39905 call isProperSubtype(39897 call . t c"chpl_t")(39902 call . x c"chpl_t"))
  }
  function _cast[39962](arg t[39959] :
  (39957 call _owned(39956 'to nilable class from type' class[221](?))), ref arg x[39967] :
  (39965 call _owned class[221](?))) : _unknown[43] "inline"
  {
    unknown castPtr[40000](39998 call _cast(39997 call _to_nilable(39995 call _to_unmanaged(39991 call . t c"chpl_t")))(39985 call . x c"chpl_p"))
    if(40017 call _cond_test(40006 call != castPtr nil[38]))
    {
      (40013 call =(40009 call . x c"chpl_p") nil[38])
    }
    (40026 return(40025 'new'(40024 call _owned castPtr)))
  }
  where {
    (39983 call isProperSubtype(39977 call _to_nonnil(39973 call . t c"chpl_t"))(39980 call . x c"chpl_t"))
  }
  function _cast[40037](arg t[40034] :
  _owned, arg x[40040] :
  _nilType) : _unknown[43] "inline" "no doc"
  {
    if(40081 call _cond_test(40059 call &&(40054 call !=(40049 call _to_nilable(40045 call . t c"chpl_t"))(40051 call . t c"chpl_t"))(40057 call ! chpl_legacyClasses)))
    {
      { scopeless
        (40079 call compilerError "Illegal cast from nil to non-nilable owned type")
      }
    }
    unknown tmp[40088] t
    (40092 return tmp)
  }
  function postfix![40102](const  ref arg x[40099] :
  _owned) : _unknown[43] "always propagate line file info" "inline" "no doc"
  {
    (40106 'use' HaltWrappers 'only' )
    if(40149 call _cond_test chpl_checkNilDereferences)
    {
      if(40144 call _cond_test(40121 call ==(40116 call _to_nilable(40112 call . x c"chpl_t"))(40118 call . x c"chpl_t")))
      {
        if(40139 call _cond_test(40128 call ==(40124 call . x c"chpl_p") nil[38]))
        {
          (40136 call(40131 call . HaltWrappers c"nilCheckHalt") "argument to ! is nil")
        }
      }
    }
    (40160 return(40159 call _to_nonnil(40155 call . x c"chpl_p")))
  }
}