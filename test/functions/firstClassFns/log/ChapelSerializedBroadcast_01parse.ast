AST dump for ChapelSerializedBroadcast after pass parse.
Module use list: 

{
  (169591 'use' ChapelLocale)
  (169596 'use' CPtr)
  unknown chpl__enableSerializedGlobals[169599] "config" "param" 1
  function chpl_get_global_serialize_table[169608](arg idx[169605] :
  int[13]) : _unknown[43] "extern" "local args" "no fn body"
  {
  }
  { scopeless type
    c_void_ptr
  }
  function chpl__broadcastGlobal[169621](ref arg localeZeroGlobal[169618] :
  unknown T[169616], arg id[169624] :
  int[13]) : _unknown[43]
  {
    if(169948 call _cond_test(169636 call &&(169631 call isArray localeZeroGlobal)(169635 call chpl__isArrayView localeZeroGlobal)))
    {
      (169656 call halt "internal error: can't broadcast module-scope arrays yet")
    }
    {
      const data[169665] "const"(169664 call(169660 call . localeZeroGlobal c"chpl__serialize"))
      const root[169673] "const"(169670 call . here c"id")
      {
        unknown tmpIter[169740] "expr temp" "maybe ref" "no copy" "temp"
        (169743 'move' tmpIter[169740] Locales)
        unknown isRngDomArr[169929] "maybe param" "temp"
        (169944 'move' isRngDomArr[169929](169942 call ||(169931 call isBoundedRange tmpIter[169740])(169940 call ||(169934 call isDomain tmpIter[169740])(169937 call isArray tmpIter[169740]))))
        if isRngDomArr[169929]
        {
          const _coforallCount[169796] "const" "end count" "temp"
          (169865 'move' _coforallCount[169796](169862 call _endCountAlloc 1))
          unknown numTasks[169797] "temp"
          (169849 'move' numTasks[169797](169845 call . tmpIter[169740] c"size"))
          (169840 call _upEndCount _coforallCount[169796] 1 numTasks[169797])
          (169837 call chpl_resetTaskSpawn numTasks[169797])
          unknown _indexOfInterest[169804] "coforall index var" "an _indexOfInterest or chpl__followIdx variable" "temp"
          unknown _iterator[169805] "expr temp" "temp"
          (169814 'move' _iterator[169805](169812 call _getIterator tmpIter[169740]))
          Defer
          {
            {
              (169830 call _freeIterator _iterator[169805])
            }
          }
          { scopeless type
            (169819 'move' _indexOfInterest[169804](169816 call iteratorIndex _iterator[169805]))
          }
          ForLoop
          {
            unknown loc[169823] "coforall index var" "index var" "insert auto destroy"
            (169825 'move' loc[169823] _indexOfInterest[169804])
            {
              {
                const tmp[169746] "const" "temp"
                (169748 'move' tmp[169746](169750 'deref'(169751 '_wide_get_locale' loc)))
                {
                  if(169755 call _cond_test(169757 call !=(169759 call . here c"id") root))
                  {
                    unknown temp[169764] "no auto destroy" "no copy"(169770 call(169766 call .(169767 'typeof' localeZeroGlobal) c"chpl__deserialize") data)
                    const destVoidPtr[169773] "const"(169775 call chpl_get_global_serialize_table id)
                    const dest[169778] "const"(169780 call _cast(169782 call c_ptr(169783 'typeof' localeZeroGlobal)) destVoidPtr)
                    (169787 '='(169792 call(169789 call . dest c"deref")) temp)
                  }
                }
              }
              (169799 call _downEndCount _coforallCount[169796] nil[38])
              (169798 'coforall loop')
            }
            label _continueLabel[169809]
            _indexOfInterest[169804]
            _iterator[169805]
          }
          label _breakLabel[169810]
          Defer
          {
            {
              (169852 call _endCountFree _coforallCount[169796])
            }
          }
          (169857 call _waitEndCount _coforallCount[169796] 1 numTasks[169797])
        }
        {
          const _coforallCount[169869] "const" "end count" "temp"
          (169926 'move' _coforallCount[169869](169923 call _endCountAlloc 1))
          unknown _indexOfInterest[169877] "coforall index var" "an _indexOfInterest or chpl__followIdx variable" "temp"
          unknown _iterator[169878] "expr temp" "temp"
          (169887 'move' _iterator[169878](169885 call _getIterator tmpIter[169740]))
          Defer
          {
            {
              (169903 call _freeIterator _iterator[169878])
            }
          }
          { scopeless type
            (169892 'move' _indexOfInterest[169877](169889 call iteratorIndex _iterator[169878]))
          }
          ForLoop
          {
            unknown loc[169896] "coforall index var" "index var" "insert auto destroy"
            (169898 'move' loc[169896] _indexOfInterest[169877])
            (169910 call _upEndCount _coforallCount[169869] 1)
            {
              {
                const tmp[169735] "const" "temp"
                (169736 'move' tmp[169735](169733 'deref'(169732 '_wide_get_locale' loc)))
                {
                  if(169727 call _cond_test(169684 call !=(169680 call . here c"id") root))
                  {
                    unknown temp[169694] "no auto destroy" "no copy"(169693 call(169688 call .(169687 'typeof' localeZeroGlobal) c"chpl__deserialize") data)
                    const destVoidPtr[169702] "const"(169701 call chpl_get_global_serialize_table id)
                    const dest[169713] "const"(169711 call _cast(169710 call c_ptr(169708 'typeof' localeZeroGlobal)) destVoidPtr)
                    (169725 '='(169723 call(169719 call . dest c"deref")) temp)
                  }
                }
              }
              (169872 call _downEndCount _coforallCount[169869] nil[38])
              (169871 'coforall loop')
            }
            label _continueLabel[169882]
            _indexOfInterest[169877]
            _iterator[169878]
          }
          label _breakLabel[169883]
          Defer
          {
            {
              (169914 call _endCountFree _coforallCount[169869])
            }
          }
          (169919 call _waitEndCount _coforallCount[169869] 1)
        }
      }
    }
  }
  where {
    chpl__enableSerializedGlobals
  }
  function chpl__destroyBroadcastedGlobal[169960](ref arg localeZeroGlobal[169958]:_any[170](?), arg id[169963] :
  int[13]) : _unknown[43]
  {
    unknown globalType[169969] "type variable"(169968 'typeof' localeZeroGlobal)
    const root[169977] "const"(169974 call . here c"id")
    {
      unknown tmpIter[170035] "expr temp" "maybe ref" "no copy" "temp"
      (170038 'move' tmpIter[170035] Locales)
      unknown isRngDomArr[170217] "maybe param" "temp"
      (170232 'move' isRngDomArr[170217](170230 call ||(170219 call isBoundedRange tmpIter[170035])(170228 call ||(170222 call isDomain tmpIter[170035])(170225 call isArray tmpIter[170035]))))
      if isRngDomArr[170217]
      {
        const _coforallCount[170084] "const" "end count" "temp"
        (170153 'move' _coforallCount[170084](170150 call _endCountAlloc 1))
        unknown numTasks[170085] "temp"
        (170137 'move' numTasks[170085](170133 call . tmpIter[170035] c"size"))
        (170128 call _upEndCount _coforallCount[170084] 1 numTasks[170085])
        (170125 call chpl_resetTaskSpawn numTasks[170085])
        unknown _indexOfInterest[170092] "coforall index var" "an _indexOfInterest or chpl__followIdx variable" "temp"
        unknown _iterator[170093] "expr temp" "temp"
        (170102 'move' _iterator[170093](170100 call _getIterator tmpIter[170035]))
        Defer
        {
          {
            (170118 call _freeIterator _iterator[170093])
          }
        }
        { scopeless type
          (170107 'move' _indexOfInterest[170092](170104 call iteratorIndex _iterator[170093]))
        }
        ForLoop
        {
          unknown loc[170111] "coforall index var" "index var" "insert auto destroy"
          (170113 'move' loc[170111] _indexOfInterest[170092])
          {
            {
              const tmp[170041] "const" "temp"
              (170043 'move' tmp[170041](170045 'deref'(170046 '_wide_get_locale' loc)))
              {
                if(170050 call _cond_test(170052 call !=(170054 call . here c"id") root))
                {
                  const voidPtr[170059] "const"(170061 call chpl_get_global_serialize_table id)
                  unknown ptr[170064](170066 call _cast(170068 call c_ptr globalType) voidPtr)
                  unknown temp[170072] "no auto destroy" "no copy"(170077 call(170074 call . ptr c"deref"))
                  (170080 call chpl__autoDestroy temp)
                }
              }
            }
            (170087 call _downEndCount _coforallCount[170084] nil[38])
            (170086 'coforall loop')
          }
          label _continueLabel[170097]
          _indexOfInterest[170092]
          _iterator[170093]
        }
        label _breakLabel[170098]
        Defer
        {
          {
            (170140 call _endCountFree _coforallCount[170084])
          }
        }
        (170145 call _waitEndCount _coforallCount[170084] 1 numTasks[170085])
      }
      {
        const _coforallCount[170157] "const" "end count" "temp"
        (170214 'move' _coforallCount[170157](170211 call _endCountAlloc 1))
        unknown _indexOfInterest[170165] "coforall index var" "an _indexOfInterest or chpl__followIdx variable" "temp"
        unknown _iterator[170166] "expr temp" "temp"
        (170175 'move' _iterator[170166](170173 call _getIterator tmpIter[170035]))
        Defer
        {
          {
            (170191 call _freeIterator _iterator[170166])
          }
        }
        { scopeless type
          (170180 'move' _indexOfInterest[170165](170177 call iteratorIndex _iterator[170166]))
        }
        ForLoop
        {
          unknown loc[170184] "coforall index var" "index var" "insert auto destroy"
          (170186 'move' loc[170184] _indexOfInterest[170165])
          (170198 call _upEndCount _coforallCount[170157] 1)
          {
            {
              const tmp[170030] "const" "temp"
              (170031 'move' tmp[170030](170028 'deref'(170027 '_wide_get_locale' loc)))
              {
                if(170022 call _cond_test(169988 call !=(169984 call . here c"id") root))
                {
                  const voidPtr[169994] "const"(169993 call chpl_get_global_serialize_table id)
                  unknown ptr[170005](170003 call _cast(170002 call c_ptr globalType) voidPtr)
                  unknown temp[170014] "no auto destroy" "no copy"(170013 call(170009 call . ptr c"deref"))
                  (170020 call chpl__autoDestroy temp)
                }
              }
            }
            (170160 call _downEndCount _coforallCount[170157] nil[38])
            (170159 'coforall loop')
          }
          label _continueLabel[170170]
          _indexOfInterest[170165]
          _iterator[170166]
        }
        label _breakLabel[170171]
        Defer
        {
          {
            (170202 call _endCountFree _coforallCount[170157])
          }
        }
        (170207 call _waitEndCount _coforallCount[170157] 1)
      }
    }
  }
  where {
    chpl__enableSerializedGlobals
  }
}