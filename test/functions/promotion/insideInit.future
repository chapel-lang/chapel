feature request: support promotion inside initializers

Issue #5114
