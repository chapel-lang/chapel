feature request: more complete lifetime checking

#8382
