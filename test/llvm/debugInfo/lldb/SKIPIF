#!/usr/bin/env bash

if [[ "$CHPL_COMM" != "none" ]]; then
  echo "True"
  exit 0
fi

# this can remove too much of the debug info
if [[ "$COMPOPTS" == *"--fast"* ]]; then
  echo "True"
  exit 0
fi

# baseline testing has extra call_temps left behind that mess up the good file
if [[ "$COMPOPTS" == *"--baseline"* ]]; then
  echo "True"
  exit 0
fi

# valgrind messes up output
if [[ "$CHPL_TEST_VGRND_EXE" == "on" ]]; then
  echo "True"
  exit 0
fi

if command -v lldb >/dev/null ; then

  # Sept 10, 2025: skip if lldb does not have python support
  # required for pretty printing which affects the output of the tests
  python_path=$(lldb --python-path 2>/dev/null)
  if [[ -z "$python_path" || ! -x "$python_path" ]]; then
    echo "True"
  else
    echo "False"
  fi
else
  echo "True"
fi
