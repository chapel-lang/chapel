bug: compiler seg faults with record in generic fn
