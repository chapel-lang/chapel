bug: domain expression in array type evaluated twice
