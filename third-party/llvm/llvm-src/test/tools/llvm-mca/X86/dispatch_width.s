# NOTE: Assertions have been autogenerated by utils/update_mca_test_checks.py
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=0 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=DEFAULT %s
# RUN: llvm-mca -mtriple=x86_64-unknown-unknown -resource-pressure=false -instruction-info=false -mcpu=btver2 -dispatch=1 < %s 2>&1 | FileCheck --check-prefix=ALL --check-prefix=CUSTOM %s

add %eax, %eax

# ALL:          Iterations:        100
# ALL-NEXT:     Instructions:      100
# ALL-NEXT:     Total Cycles:      103

# CUSTOM-NEXT:  Dispatch Width:    1
# DEFAULT-NEXT: Dispatch Width:    2

# ALL-NEXT:     IPC:               0.97

# CUSTOM-NEXT:  Block RThroughput: 1.0
# DEFAULT-NEXT: Block RThroughput: 0.5
