\documentclass[10pt,oneside,titlepage]{spec}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{color}
\usepackage{times}
%\usepackage{fullpage}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{longtable}
\usepackage[nottoc]{tocbibind}
\usepackage{multirow}
\input{chapel_testing}
\input{chapel_listing}
\input{syntax_listing}

%% High section numbers require different number widths
\usepackage[titles]{tocloft}
\setlength{\cftchapnumwidth}{1.3em} % Wide enough for a chapter number.
\setlength{\cftsecnumwidth}{3.2em}  % Same as cftsubsecnumwidth:
\setlength{\cftsubsecnumwidth}{3.2em} % Wide enough for three digits and two dots.
%\setlength{\cftsubsubsecnumwidth}{5.4em}
\setlength{\cftsecindent}{1.3em}    % cftchapnumwidth
\setlength{\cftsubsecindent}{1.3em} % cftchapnumwidth
\setlength{\cftsubsubsecindent}{4.5em} % cftchapnumwidth + cftsecnumwidth

% This can be re-enabled in order to aid in spec editing/reviewing.
%% bring in todonotes and make sure we have enough space in the margins. Also
%% note, even side margin is changed below since I couldn't figure out how to
%% force notes to the right side.
%\usepackage[paperwidth=9.5in, paperheight=11in]{geometry}
%\setlength{\marginparwidth}{1.8in}
%\usepackage[colorinlistoftodos, textwidth=1.8in, shadow]{todonotes}

\usepackage{ifpdf}
\ifpdf
\usepackage[pdftex,
            bookmarks,
            plainpages=false,
            breaklinks,
            pdftitle={Chapel Language Specification},
            pdfauthor={Cray Inc, 901 Fifth Avenue Suite 1000, Seattle, WA 98164},
            pdfsubject={Chapel High Productivity Language}
           ]{hyperref}
\else
\usepackage[ps2pdf]{hyperref}
\fi

\newcommand{\ie}{\emph{i.e.}}
\newcommand{\eg}{\emph{e.g.}}

\newenvironment{TODO} {
\begin{quote}
{\it TODO:}
}{
\end{quote}
}

\newenvironment{example}{
\begin{quote}
{\it Example}.
}{
\end{quote}
}

\newenvironment{chapelexample}[1]{
\begin{quote}
{\it Example (#1)}.
}{
\end{quote}
}

\newenvironment{note}{
\begin{quote}
{\it Implementors' note}.
}{
\end{quote}
}

\newenvironment{rationale}{
\begin{quote}
{\it Rationale}.
}{
\end{quote}
}

\newenvironment{openissue}{
\begin{quote}
{\it Open issue}.
}{
\end{quote}
}

\newenvironment{future}{
\begin{quote}
{\it Future}.
}{
\end{quote}
}

\newenvironment{craychapel}{
\begin{quote}
{\it Cray's Chapel Implementation}.
}{
\end{quote}
}

\newenvironment{suggestionbox}{
\begin{quote}
{\it Suggestions?}
}{
\end{quote}
}

\newcommand{\rsec}[1]
           {\S\ref{#1}}

% courtesy: http://www.iam.ubc.ca/~newbury/tex/page-set-up.html
\newcommand{\sekshun}[1]
           {
             \chapter{#1}
             \markboth{Chapel Language Specification}{#1}
           }

\oddsidemargin 0.0in
% not needed with onesided version \evensidemargin 0.5in
\textwidth 6.5in
\headheight 0.2in
\topmargin 0in
\headsep 0.3in
\textheight 8.5in

\makeindex
\title{Chapel Language Specification\\Version 0.984}

\author{Cray Inc\\
901 Fifth Avenue, Suite 1000\\
Seattle, WA 98164}

\date{October 5, 2017}

\setcounter{tocdepth}{3}

\begin{document}

\pagestyle{empty}
%\pagenumbering{alph}

\ifpdf
\pdfbookmark[1]{Title}{titlepage}
\fi
\maketitle

\setcounter{page}{2}
\null\vfill
\noindent
\begin{center}
\copyright 2018 Cray Inc.
\end{center}

\cleardoublepage
\include{tm}
\cleardoublepage

\pagestyle{myheadings}
\markboth{Chapel Language Specification}{Chapel Language Specification}
%\pagenumbering{roman}

\ifpdf
\pdfbookmark[1]{Table of Contents}{tablecontents}
\fi
\tableofcontents

\cleardoublepage

\pagestyle{myheadings}
%\pagenumbering{arabic}

\setlength{\parindent}{0in}
\setlength{\parskip}{4mm plus2mm minus1mm}

\input{Scope}
\cleardoublepage
\input{Notation}
\cleardoublepage
\input{Organization}
\cleardoublepage
\input{Acknowledgments}
\cleardoublepage
\input{Language_Overview}
\cleardoublepage
\input{Lexical_Structure}
\cleardoublepage
\input{Types}
\cleardoublepage
\input{Variables}
\cleardoublepage
\input{Conversions}
\cleardoublepage
\input{Expressions}
\cleardoublepage
\input{Statements}
\cleardoublepage
\input{Modules}
\cleardoublepage
\input{Procedures}
\cleardoublepage
\input{Methods}
\cleardoublepage
\input{Tuples}
\cleardoublepage
\input{Classes}
\cleardoublepage
\input{Records}
\cleardoublepage
\input{Unions}
\cleardoublepage
\input{Ranges}
\cleardoublepage
\input{Domains}
\cleardoublepage
\input{Arrays}
\cleardoublepage
\input{Iterators}
\cleardoublepage
\input{Generics}
\cleardoublepage
\input{Input_and_Output}
\cleardoublepage
\input{Task_Parallelism_and_Synchronization}
\cleardoublepage
\input{Data_Parallelism}
\cleardoublepage
\input{Locales}
\cleardoublepage
\input{Domain_Maps}
\cleardoublepage
\input{User_Defined_Reductions_and_Scans}
\cleardoublepage
\input{Memory_Consistency}
\cleardoublepage
\input{Interoperation}
\cleardoublepage
\appendix
\input{Syntax}
\cleardoublepage
\markboth{Chapel Language Specification}{Index}
\input{spec.ind}
\end{document}
